# 개발자가 반드시 정복해야 할 객체 지향과 디자인 패턴

## 1장

### 객체의 책임과 크기

객체는 객체 마다 서로 다른 책임을 지닌다.

이러한 책임은 처음부터 정해진 것이 아니라, 처음에 프로그램을 개발할 때 기능에 대해 미리 정의해 놓고 해당 기능에 대한 책임을 어떤 객체가 지닐 지에 대해 정하는 것이다.

### 객체 지향의 설계 과정

1. 제공해야 할 기능을 찾거나 세분화하고, 그 기능을 알맞은 객체에 할당한다.

- 기능을 구현하는 데 필요한 데이터(멤버변수)를 객체에 추가한다. 데이터를 먼저 만든 후 그 데이터에 해당하는 기능을 만들 수도 있다.
- 기능은 최대한 캡슐화하여 구현한다.

2. 객체간에 어떻게 메시지를 주고받을지 결정한다.
3. 과정 1과 2를 개발하면서 계속 반복한다.

## 2장

### 단일 책임 원칙

> 클래스는 단 하나만의 책임만 가져야 한다.

책임이 커질수록 그에 따라 연쇄적인 코드 수정이 일어나게 되고 재사용이 어렵게 된다.

### 개방 폐쇄 원칙

> 확장에는 열려있고 변경에는 닫혀 있어야 한다.

새로운 기능이 추가되면 기존 코드는 수정하지 않으면서 새 코드만 추가할 수 있게 하는 것이 핵심이다.

### 리스코프의 치환 원칙

> 상위 타입의 객체를 하위 타입의 객체로 교체해도 상위 타입을 사용하는 프로그램은 정상적으로 동작해야 한다.

타입을 확인하는 기능, instanceof 메서드를 사용하게 된다면 이 원칙을 위반할 때 발생하는 현상이다. 이때는 추상화가 잘 되었는지 확인하자.

리스코프의 치환 원칙을 위반하면 개방 폐쇄 원칙도 위반하게 된다. 개방 폐쇄 원칙을 위반하면 기능을 추가할 때 많은 부분을 수정해야 하기 때문에, 리스코프의 치환 원칙을 지키지 않으면 기능을 확장하기 어렵게 된다.

### 인터페이스 분리 원칙

> 인터페이스는 그 인터페이스를 사용하는 클라이언트를 기준으로 분리해야 한다.

각 클라이언트가 사용하는 기능을 중심으로 인터페이스를 분리함으로써, 클라이언트로부터 발생한느 인터페이스 변경의 여파가 다른 클라이언트에 미치는 영향을 최소화할 수 있게 된다.

### 의존 역전 원칙

> 고수준 모듈은 저수준 모듈의 구현에 의존해서는 안 된다. 저수준 모듈이 고수준 모듈에서 정의한 추상 타입에 의존해야 한다.

- 고수준 모듈은 어떤 의미 있는 기능을 제공하는 모듈
- 저수준 모듈은 고수준 모듈의 기능을 구현하기 위해 필요한 하위 기능의 실제 구현

고수준 모듈은 상대적으로 큰 틀, 저수준 모듈은 각 개별 요소가 어떻게 구현될지에 대해 다룬다.

추상화를 통해 새로운 추상 타입을 만들고, 고수준 모듈과 저수준 모듈 모두 추상 타입에 의존하게 하여 두 관계를 완화할 수 있다.

### 어플리케이션 영역과 메인 영역

로버트 C 마틴은 소프트웨어를 두개의 영역으로 나누었다.

고수준 정책 및 저수준 구현을 포함한 어플리케이션 영역과, 어플리케이션이 수행하도록 각 개체를 연결해주는 메인 영역으로 나뉜다.

이 중 메인 영역은 다음과 같은 작업을 수행한다.

- 어플리케이션 영역에서 사용될 객체를 생성한다.
- 각 객체 간의 의존 관계를 설정한다.
- 어플리케이션을 실행한다.

### Dependency Injection

사용할 객체를 직접 생성할 경우, 콘크리트 클래스에 대한 의존이 발생한다.

DI는 필요한 객체를 직접 생성하지 않고 외부에서 넣어주는 방식을 제공한다.
